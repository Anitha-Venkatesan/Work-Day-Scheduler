<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css"/>
    <script src ="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"> 
      </p>
    </header>
    <div class="container width-75%">
      <!-- Timeblocks go here -->
      <div class="row time-block">
        <div id="9AM" class="col hour "><span>9AM</span></div>
        <textarea id="planner-9" class="col-10 description"></textarea>
        <button id="btn-9" class= "col saveBtn fas fa-save" value=09></button>
      </div>
      <div class="row time-block">
        <div id="10AM" class="col hour" >10AM</div>
        <textarea id="planner-10" class="col-10 description"></textarea>
        <button id="btn-10" class= "col saveBtn fas fa-save" value=10></button>
      </div> 
      <div class="row time-block">
        <div id="11AM" class="col hour" >11AM</div>
        <textarea id="planner-11" class="col-10 description"></textarea>
        <button id="btn-11" class= "col saveBtn fas fa-save" value=11></button>
      </div> 
      <div class="row time-block">
        <div id="12PM" class="col hour" >12PM</div>
        <textarea id="planner-12" class="col-10 description"></textarea>
        <button id="btn-12" class= "col saveBtn fas fa-save" value=12></button>
      </div> 
      <div  class="row time-block">
        <div id="1PM" class="col hour" >1PM</div>
        <textarea id="planner-13" class="col-10 description"></textarea>
        <button id="btn-13" class= "col saveBtn fas fa-save" value=13></button>
      </div> 
      <div class="row time-block">
        <div id="2PM" class="col hour" >2PM</div>
        <textarea id="planner-14" class="col-10 description"></textarea>
        <button id="btn-14" class= "col saveBtn fas fa-save" value=14></button>
      </div> 
      <div class="row time-block">
        <div id="3PM" class="col hour " >3PM</div>
        <textarea id="planner-15" class="col-10 description "></textarea>
        <button id="btn-15" class= "col saveBtn fas fa-save" value=15></button>
      </div>
      <div class="row time-block">
        <div  id="4PM"class="col hour " >4PM</div>
        <textarea id="planner-16" class="col-10 description "></textarea>
        <button id="btn-16" class= "col saveBtn fas fa-save" value=16></button>
      </div>
      <div class="row time-block">
        <div  id="5PM" class="col hour" >5PM</div>
        <textarea id="planner-17" class="col-10 description"></textarea>
        <button id="btn-17" class= "col saveBtn fas fa-save" value=17></button>
      </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
     <!-- Events -->
    <script>
    $(document).ready(function() {
      //Showing the Current day 
       $("#currentDay").text(moment().format('dddd')+","+ moment().format('MMMM Do'));
       // 24 hour format 'HH'
       var currentTime =parseInt(moment().format('HH')); 
       var getStorageList =[9,10,11,12,13,14,15,16,17];
       getStorageList.forEach(element => {
           element = parseInt(element);
           //Getting values from local storage
           var getStorage=localStorage.getItem(element);
           $('#planner-' + element).val(getStorage);
           if(element < currentTime )
           {
             //Disable the text area and buttons
            $('#planner-' + element).prop('disabled', true);
            $('#btn-'+element).prop('disabled',true);
            $('#planner-' + element).addClass('past');
           }
           if(element === currentTime)
           {
            $('#planner-' + element).addClass('present');
           }
           if(element > currentTime)
           {
            $('#planner-' + element).addClass('future');
           }
        });
        //Setting values to local storage
      $(".saveBtn").on("click",function(){
         var btnValue = $(this).attr('value');
         var textAreaValue = $('#planner-' + btnValue).val();
         localStorage.setItem(btnValue,textAreaValue);
       }); 
    });
  </script>
  </body>
</html>
